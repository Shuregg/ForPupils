#include<iostream>
#include<ctime>
#include<vector>
#include<Windows.h>
#include<string>
#include<fstream>
#include<conio.h>
using namespace std;

void main()
{
	SetConsoleOutputCP(1251);
	SetConsoleCP(1251);
	int mas[24][24] =
	{
	{1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,0,1,1,1,1,0,0,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,0,1,1,1,1,1,0,1,1,1,1,0,4,1,1,1,1,1,1,1,1,1,},
	{1,1,0,1,1,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,},
	{1,1,0,0,0,4,0,0,0,1,1,0,4,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1,1,0,1,1,1,1,},
	{1,1,1,1,4,1,1,1,0,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,},
	{1,1,0,0,0,1,1,1,4,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,},
	{1,1,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,},
	{1,1,0,0,0,1,1,1,0,1,1,1,0,1,1,1,0,0,1,1,1,1,1,1,},
	{1,1,0,1,0,1,0,0,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,},
	{1,1,0,1,0,0,0,1,1,1,1,1,0,0,1,1,0,1,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,1,4,0,1,1,1,1,1,1,},
	{1,1,1,1,0,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{3,0,0,0,0,1,0,0,0,1,0,1,1,1,1,1,1,0,1,0,1,1,1,1,},
	{1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,0,1,1,1,},
	{1,1,1,1,4,0,1,1,1,1,0,1,1,1,1,1,1,0,0,0,1,1,1,1,},
	{1,1,1,1,1,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	{1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,},
	};
	int cur_i = 0;
	int cur_j = 2;
	int score = 0;
	while (true)
	{
		system("cls");
		// отрисовка
		for (int i = 0; i < 24; i++)
		{
			for (int j = 0; j < 24; j++)
			{
				if (mas[i][j] == 1)
				{
					cout << static_cast<char>(177);
					cout << static_cast<char>(177);
				}
				if (mas[i][j] == 0)
				{
					cout << "  ";
				}
				if (mas[i][j] == 3)
				{
					cout << "  ";
				}
				if (mas[i][j] == 2)
				{
					cout << static_cast<char>(178);
					cout << static_cast<char>(178);
				}
				if (mas[i][j] == 4)
				{
					cout << static_cast<char>(159);
					cout << static_cast<char>(159);
				}
			}
			cout << endl;
		}
		cout << score << endl;
		int keysArrow = _getch();
		mas[cur_i][cur_j] = 0;
		if (keysArrow == 72 || keysArrow == 150 || keysArrow == 230)
		{
			// Up
			cur_i = cur_i - 1;

		}
		if (keysArrow == 80 || keysArrow == 155 || keysArrow == 235)
		{
			// Down
			cur_i = cur_i + 1;

		}
		if (keysArrow == 77 || keysArrow == 130 || keysArrow == 262)
		{
			// Right
			cur_j = cur_j + 1;

		}
		if (keysArrow == 75 || keysArrow == 148 || keysArrow == 235)
		{
			// Left
			cur_j = cur_j - 1;


		}
		if (mas[cur_i][cur_j] == 4)
		{
			score++;
		}
		if (mas[cur_i][cur_j] == 3)
		{
			cout << "Victory!" << endl;
			break;
		}
		if (mas[cur_i][cur_j] == 1)
		{
			cout << "Game over " << endl;
			break;
		}
		mas[cur_i][cur_j] = 2;
	}
	system("pause");
}